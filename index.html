<!DOCTYPE html>
<html>
  <head>
    <title>Pickett to Pickens</title>
    <meta charset="utf-8">
  </head>

  <!-- main CSS -->
  <link rel="stylesheet" href="css/main.css">

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">

  <!-- jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

  <!-- Latest compiled JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

  <body>
    <div class="container h-100">
      <div class="row">
        
        <div class="col-sm-4 text-center">
          <div class="scoreboard" id="scoreboard-dave">
            <p>Dave: <span id="dave"></span></p>
          </div>
        </div>

        <div class="col-sm-4 text-center">
          <div class="scoreboard" id="scoreboard-rex">
            <p>Rex: <span id="rex"></span></p>
          </div>
        </div>

        <div class="col-sm-4 text-center">
          <div class="scoreboard" id="scoreboard-tim">
            <p>Tim: <span id="tim"></span></p>
          </div>
        </div>

        <!--
        <div class="col-sm-4 text-center my-auto"><p class="display-score">Dave: <span id="dave"></span></p></div>
        <div class="col-sm-4 text-center my-auto"><p class="display-score">Rex: <span id="rex"></span></p></div>
        <div class="col-sm-4 text-center my-auto"><p class="display-score">Tim: <span id="tim"></span></p></div>
        -->

      </div>
    </div> 
  </body>
</html>

<script>

const url = "https://mvr35kmrh0.execute-api.us-east-2.amazonaws.com/api/touchdowns"
var obj;
var endStr;

fetch(url, {
  headers: {
    'Content-Type': 'application/json',
  }
})
  .then(response => response.json())
  .then(data => {
    obj = data;
  })
  .then(() => {
    document.getElementById("dave").innerHTML = obj.Dave;
    document.getElementById("rex").innerHTML = obj.Rex;
    document.getElementById("tim").innerHTML = obj.Tim;

    // highlight current leader
    if ((obj.Dave > obj.Rex) && (obj.Dave > obj.Tim)) {
      document.getElementById("scoreboard-dave").style.backgroundColor = "green";
      document.getElementById("scoreboard-dave").style.color = "white";
    }
    else if ((obj.Rex > obj.Dave) && (obj.Rex > obj.Tim)) {
      document.getElementById("scoreboard-rex").style.backgroundColor = "green";
      document.getElementById("scoreboard-rex").style.color = "white";
    }
    else if ((obj.Tim > obj.Dave) && (obj.Tim > obj.Rex)) {
      document.getElementById("scoreboard-tim").style.backgroundColor = "green";
      document.getElementById("scoreboard-tim").style.color = "white";
    }
    
    
  });

</script>